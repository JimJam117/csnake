\hypertarget{main_8c}{}\doxysection{main.\+c File Reference}
\label{main_8c}\index{main.c@{main.c}}


The main file in the caterpillar game. Contains all the functions and code to run on stm32f7 discovery board.  


{\ttfamily \#include \char`\"{}stm32f7xx.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include \char`\"{}stm32f7xx\+\_\+hal.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}GLCD\+\_\+\+Config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Board\+\_\+\+GLCD.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Board\+\_\+\+Touch.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}keypad.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{main_8c_a08d27f452b6ba6c57beae49eaae070e8}\label{main_8c_a08d27f452b6ba6c57beae49eaae070e8}} 
\#define {\bfseries wait\+\_\+delay}~HAL\+\_\+\+Delay
\item 
\mbox{\Hypertarget{main_8c_a9565d1788cb48d6c79af122c03164b6a}\label{main_8c_a9565d1788cb48d6c79af122c03164b6a}} 
\#define {\bfseries Height}~15
\begin{DoxyCompactList}\small\item\em Game Area Dimensions. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_aed8fadf7b3e976964bffdbc43a3b9402}\label{main_8c_aed8fadf7b3e976964bffdbc43a3b9402}} 
\#define {\bfseries Width}~10
\begin{DoxyCompactList}\small\item\em Game Area Dimensions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{main_8c_a70af21c671abfcc773614a9a4f63d920}{System\+Clock\+\_\+\+Config}} (void)
\begin{DoxyCompactList}\small\item\em System Clock Configuration. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_af01da115d6b9e37a69b63e8d0db640de}{init\+Values}} ()
\begin{DoxyCompactList}\small\item\em Init the core values to the default state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a9d7e8af417b6d543da691e9c0e2f6f9f}{clear\+Screen}} ()
\begin{DoxyCompactList}\small\item\em Clears the GCLD Screen. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a76e9103f8265bd57f023387d96cea6ff}{score\+Calc}} ()
\begin{DoxyCompactList}\small\item\em Calculate the score, to be displayed in score\+Str. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8c_a026d019671eda0cfe729200fc24d23ba}{game\+Over}} ()
\item 
\mbox{\Hypertarget{main_8c_a49e1d0816e9e0cabfb855147f399f5b5}\label{main_8c_a49e1d0816e9e0cabfb855147f399f5b5}} 
void {\bfseries set\+Game\+Over} ()
\item 
\mbox{\Hypertarget{main_8c_a6ded301fac502a80287704dfd1224f92}\label{main_8c_a6ded301fac502a80287704dfd1224f92}} 
char {\bfseries screen\+Number\+Test} (int i)
\item 
void \mbox{\hyperlink{main_8c_a04898df17a3b6a6a3c827c1c698da846}{draw\+Game}} ()
\item 
\mbox{\Hypertarget{main_8c_a1dca549e20947032febfdf3cda5dbd8b}\label{main_8c_a1dca549e20947032febfdf3cda5dbd8b}} 
void {\bfseries init\+Player} ()
\item 
\mbox{\Hypertarget{main_8c_a9e55dbb80a29480351146c3dbb1fa6b2}\label{main_8c_a9e55dbb80a29480351146c3dbb1fa6b2}} 
void {\bfseries update\+Player} ()
\item 
\mbox{\Hypertarget{main_8c_afa01cd34f44a5167517feb7019f9ee2e}\label{main_8c_afa01cd34f44a5167517feb7019f9ee2e}} 
void {\bfseries init\+Game\+Area} ()
\item 
\mbox{\Hypertarget{main_8c_a8c62ff42543b7a912cdfd428760c9066}\label{main_8c_a8c62ff42543b7a912cdfd428760c9066}} 
void {\bfseries borders} ()
\item 
\mbox{\Hypertarget{main_8c_aa6fed1924bd85ce47b19d1248a37a70f}\label{main_8c_aa6fed1924bd85ce47b19d1248a37a70f}} 
void {\bfseries generate\+Food} ()
\item 
\mbox{\Hypertarget{main_8c_a59853752190aa21c14a745389f80dc44}\label{main_8c_a59853752190aa21c14a745389f80dc44}} 
int {\bfseries random\+Direction\+Debug} ()
\item 
\mbox{\Hypertarget{main_8c_a9d6b655a52683afe2f4cb87e3f64bc2e}\label{main_8c_a9d6b655a52683afe2f4cb87e3f64bc2e}} 
void {\bfseries change\+Direction} ()
\item 
\mbox{\Hypertarget{main_8c_afe14ecbeb5a1b58c61be23a557fabe88}\label{main_8c_afe14ecbeb5a1b58c61be23a557fabe88}} 
void {\bfseries movement} ()
\item 
\mbox{\Hypertarget{main_8c_aef281bab4cdd037da1b57e4a89c26273}\label{main_8c_aef281bab4cdd037da1b57e4a89c26273}} 
void {\bfseries eat} ()
\item 
\mbox{\Hypertarget{main_8c_abb91124abfa3ea1baf84a06b1d66c4ed}\label{main_8c_abb91124abfa3ea1baf84a06b1d66c4ed}} 
void {\bfseries check\+Food} ()
\item 
\mbox{\Hypertarget{main_8c_a629af7d38c6812fdd9c1c3bb1ddd705a}\label{main_8c_a629af7d38c6812fdd9c1c3bb1ddd705a}} 
char {\bfseries test} (int keypad\+Input)
\item 
\mbox{\Hypertarget{main_8c_a840291bc02cba5474a4cb46a9b9566fe}\label{main_8c_a840291bc02cba5474a4cb46a9b9566fe}} 
int {\bfseries main} (void)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{main_8c_a2b791557b4e284380da57c3838b75bfa}\label{main_8c_a2b791557b4e284380da57c3838b75bfa}} 
GLCD\+\_\+\+FONT {\bfseries GLCD\+\_\+\+Font\+\_\+6x8}
\item 
\mbox{\Hypertarget{main_8c_ac626b39f0365742d6019bab92e3e45b1}\label{main_8c_ac626b39f0365742d6019bab92e3e45b1}} 
GLCD\+\_\+\+FONT {\bfseries GLCD\+\_\+\+Font\+\_\+16x24}
\item 
\mbox{\Hypertarget{main_8c_a6150e0515f7202e2fb518f7206ed97dc}\label{main_8c_a6150e0515f7202e2fb518f7206ed97dc}} 
int {\bfseries x} = 3
\begin{DoxyCompactList}\small\item\em player\textquotesingle{}s x coord position \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_a0a2f84ed7838f07779ae24c5a9086d33}\label{main_8c_a0a2f84ed7838f07779ae24c5a9086d33}} 
int {\bfseries y} = 4
\begin{DoxyCompactList}\small\item\em player\textquotesingle{}s y coord position \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_a20358970b1abaf992eb85e071e454653}\label{main_8c_a20358970b1abaf992eb85e071e454653}} 
int {\bfseries head} = 4
\begin{DoxyCompactList}\small\item\em The current value of the head of the caterpillar. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_aff39d864a6594bc5f4a5e365282e00fe}\label{main_8c_aff39d864a6594bc5f4a5e365282e00fe}} 
int {\bfseries tail} = 1
\begin{DoxyCompactList}\small\item\em The current value of the tail of the caterpillar. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{main_8c_a46634cf7a217e60cf1389337659fe8a8}{pixel\+By}} = 24
\item 
\mbox{\Hypertarget{main_8c_a886d551d5381dc3e53f17825ffc51641}\label{main_8c_a886d551d5381dc3e53f17825ffc51641}} 
int {\bfseries direction} = 2
\begin{DoxyCompactList}\small\item\em direction var (can be between 1 and 4) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_a92f71d30610a84990fa0110925ab6b17}\label{main_8c_a92f71d30610a84990fa0110925ab6b17}} 
int {\bfseries game\+Area} \mbox{[}\mbox{\hyperlink{main_8c_a9565d1788cb48d6c79af122c03164b6a}{Height}}\mbox{]}\mbox{[}\mbox{\hyperlink{main_8c_aed8fadf7b3e976964bffdbc43a3b9402}{Width}}\mbox{]}
\begin{DoxyCompactList}\small\item\em 2d array of numbers for the game area \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_afebbab4c598d7cb1d12770d02a5d1fd7}\label{main_8c_afebbab4c598d7cb1d12770d02a5d1fd7}} 
int {\bfseries food} = 0
\begin{DoxyCompactList}\small\item\em food count \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_a4a02c4e131093f7cea622dd4280d7979}\label{main_8c_a4a02c4e131093f7cea622dd4280d7979}} 
int {\bfseries number\+Of\+Food} = 7
\begin{DoxyCompactList}\small\item\em maximum number of food to display \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_aef160b7437d94056f1dc59646cd5b87d}\label{main_8c_aef160b7437d94056f1dc59646cd5b87d}} 
int {\bfseries score} = 0
\begin{DoxyCompactList}\small\item\em score count \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_a3355dd32a1037b568bc46eca62bcfa5b}\label{main_8c_a3355dd32a1037b568bc46eca62bcfa5b}} 
int {\bfseries game\+Is\+Running} = 0
\begin{DoxyCompactList}\small\item\em bool for if game is running \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_a5849a680495b395c75c2269657d5d4a5}\label{main_8c_a5849a680495b395c75c2269657d5d4a5}} 
int {\bfseries has\+Moved} = 0
\begin{DoxyCompactList}\small\item\em bool for if has moved \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_ac773635b6fe267e86ae362361faafad4}\label{main_8c_ac773635b6fe267e86ae362361faafad4}} 
int {\bfseries has\+Eaten} = 0
\begin{DoxyCompactList}\small\item\em bool for if has eaten \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_a5fd7cbedad4d5fb381472be5a22c610c}\label{main_8c_a5fd7cbedad4d5fb381472be5a22c610c}} 
int {\bfseries membrane\+Num} = 0
\begin{DoxyCompactList}\small\item\em the num pressed on the membrane keypad \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8c_a1437f61399772de219c3b4fdfbcf54aa}\label{main_8c_a1437f61399772de219c3b4fdfbcf54aa}} 
int {\bfseries score100}
\item 
\mbox{\Hypertarget{main_8c_a44faa9be4802cec34666c5ae45fc95d6}\label{main_8c_a44faa9be4802cec34666c5ae45fc95d6}} 
int {\bfseries score10}
\item 
\mbox{\Hypertarget{main_8c_a2fbc04c06f8781fbaa0c6c6b3fee03b9}\label{main_8c_a2fbc04c06f8781fbaa0c6c6b3fee03b9}} 
int {\bfseries score1}
\item 
\mbox{\Hypertarget{main_8c_a21fd3dc6d4e99ef4211b0754a7cdb9e0}\label{main_8c_a21fd3dc6d4e99ef4211b0754a7cdb9e0}} 
int {\bfseries score\+Temp}
\item 
\mbox{\Hypertarget{main_8c_ac31b86b5e2d7f916c96c62e112442d56}\label{main_8c_ac31b86b5e2d7f916c96c62e112442d56}} 
char {\bfseries score\+Str} \mbox{[}$\,$\mbox{]} = \char`\"{}000\char`\"{}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The main file in the caterpillar game. Contains all the functions and code to run on stm32f7 discovery board. 

\begin{DoxyAuthor}{Author}
James Sparrow \& Denis Ferenc 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
14 May 2022 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8c_a9d7e8af417b6d543da691e9c0e2f6f9f}\label{main_8c_a9d7e8af417b6d543da691e9c0e2f6f9f}} 
\index{main.c@{main.c}!clearScreen@{clearScreen}}
\index{clearScreen@{clearScreen}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{clearScreen()}{clearScreen()}}
{\footnotesize\ttfamily void clear\+Screen (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clears the GCLD Screen. 

This function will clear the GLCD Screen. It is used in between screen changes, and is run every frame prior to drawing a new frame. \mbox{\Hypertarget{main_8c_a04898df17a3b6a6a3c827c1c698da846}\label{main_8c_a04898df17a3b6a6a3c827c1c698da846}} 
\index{main.c@{main.c}!drawGame@{drawGame}}
\index{drawGame@{drawGame}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{drawGame()}{drawGame()}}
{\footnotesize\ttfamily void draw\+Game (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Main function for drawing game, based upon data in game\+Area \mbox{\Hypertarget{main_8c_a026d019671eda0cfe729200fc24d23ba}\label{main_8c_a026d019671eda0cfe729200fc24d23ba}} 
\index{main.c@{main.c}!gameOver@{gameOver}}
\index{gameOver@{gameOver}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{gameOver()}{gameOver()}}
{\footnotesize\ttfamily void game\+Over (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Display the game over screen. This function will display the game over screen, which gives the user a \char`\"{}game over\char`\"{} message, as well as providing the final score. The screen is cleaned and \mbox{\hyperlink{main_8c_a76e9103f8265bd57f023387d96cea6ff}{score\+Calc()}} is run before displaying the screen. \mbox{\Hypertarget{main_8c_af01da115d6b9e37a69b63e8d0db640de}\label{main_8c_af01da115d6b9e37a69b63e8d0db640de}} 
\index{main.c@{main.c}!initValues@{initValues}}
\index{initValues@{initValues}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{initValues()}{initValues()}}
{\footnotesize\ttfamily void init\+Values (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Init the core values to the default state. 

This function will reset the values to their initial state. It is run before the game is set up, to make sure a new game can be generated from a clean starting point. \mbox{\Hypertarget{main_8c_a76e9103f8265bd57f023387d96cea6ff}\label{main_8c_a76e9103f8265bd57f023387d96cea6ff}} 
\index{main.c@{main.c}!scoreCalc@{scoreCalc}}
\index{scoreCalc@{scoreCalc}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{scoreCalc()}{scoreCalc()}}
{\footnotesize\ttfamily void score\+Calc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Calculate the score, to be displayed in score\+Str. 

This function will convert the int score value into a string, so it can be easily displayed on the game screen. \mbox{\Hypertarget{main_8c_a70af21c671abfcc773614a9a4f63d920}\label{main_8c_a70af21c671abfcc773614a9a4f63d920}} 
\index{main.c@{main.c}!SystemClock\_Config@{SystemClock\_Config}}
\index{SystemClock\_Config@{SystemClock\_Config}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{SystemClock\_Config()}{SystemClock\_Config()}}
{\footnotesize\ttfamily void System\+Clock\+\_\+\+Config (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



System Clock Configuration. 

This is the system clock configuration from the GLCD lab code on blackboard. It is required to get the GLCD working on the discovery board. 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8c_a46634cf7a217e60cf1389337659fe8a8}\label{main_8c_a46634cf7a217e60cf1389337659fe8a8}} 
\index{main.c@{main.c}!pixelBy@{pixelBy}}
\index{pixelBy@{pixelBy}!main.c@{main.c}}
\doxysubsubsection{\texorpdfstring{pixelBy}{pixelBy}}
{\footnotesize\ttfamily int pixel\+By = 24}

Int used for the amount of spacing per character (Since font is 16x24, this is set to 24) 